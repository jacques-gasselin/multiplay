                **multiplay**
                **Framework for multiplayer games**
                Jacques Gasselin,
                Copyright 2018


Design
======

Each platform defines its own API and ecosystem for managing Players and Games. Most of them are incompatible and have severe platform bugs. This framework move the responsibility of fixing the bugs to the community and to allow cross platform gaming.

Connect the Game
=================

Call the API with the game server URL and the game UUID. The UUID is purely a token that the server and client has agreed upon. GameConnectionToken is returned that is used for all communication between the game and the server from this point onward.

***********************************************
* .--------.                        .--------.
* |        +----connect:gameUUID--->|        |
* |  Game  |                        | Server |
* |        |<----connectionUUID-----+        |
* '--------'                        '--------'
*
***********************************************

Client Side:

   *Request*:
   
   GET *ServerURI*/connect?game=*Game UUID*
   
   *Response*:
   
   connectionToken : UUID

Server Side:

*Lookup game UUID in database*
*If not found return an empty UUID*
*If found generate a connection UUID, that does not clash with other current or stale connnections, with a timeout*
*Clear out all stale connections for the game UUID*
*Return the connection UUID*

This handshake allows the server to manage load and by assigning tokens
it can ensure that only active connections are serviced in case of
rogue clients.


Connecting the player
===================

Use the GameConnectionToken to create a player, or fetch the last used player, with the localDeviceUUID.
For iOS this would be the same as [[UIDevice currentDevice].identifierForVendor UUIDString]

Client Side:

   *Request*:
   
   GET *ServerURI*/login?connection=*connectionToken*&localDevice=*localDeviceUUID*
   
   *Response*:
   
   playerToken : UUID

Server Side:



Saving Data
===========


Loading Data
============



Starting a Session
==================


<!-- Markdeep: -->
<style class="fallback">body{visibility:hidden;white-space:pre;font-family:monospace}</style>
<script src="markdeep.min.js"></script>
<script src="https://casual-effects.com/markdeep/latest/markdeep.min.js?"></script>
<script>window.alreadyProcessedMarkdeep||(document.body.style.visibility="visible")</script>
